<div class="reset-pass-container">
  <div class="overlay"></div>
  <div class="content-container" *ngIf="isForgotPass">
    <div class="header-container">
      <h1 class="title">Forgot Password</h1>
      <h3 class="title-comment">Don't panic, just let us know your email address that you used to create an account.</h3>
    </div>
    <div class="form-container">
      <form [formGroup]="forgotForm" (submit)="forgotPass()">
        <div class="form-group input-group input-control" [ngClass]="{'invalid-control': forgotEmail.invalid && (forgotEmail.dirty || forgotEmail.touched)}">
          <div class="input-group-prepend">
            <i class="input-group-text fa fa-envelope"></i>
          </div>
          <input type="text" class="form-control" placeholder="Email address" formControlName="email">
          <div class="invalid-msg-container" *ngIf="forgotEmail.invalid && (forgotEmail.dirty || forgotEmail.touched)">
            <span class="invalid-input" *ngIf="forgotEmail.errors.required">The email can't be blank.</span>
            <span class="invalid-input" *ngIf="forgotEmail.errors.email">Please input correct email format.</span>
          </div>
        </div>
        <button class="btn btn-default btn-action" type="submit" [disabled]="forgotForm.invalid">Send me a new password</button>
        <div class="back-container">
          <span>Never mind</span>
          <a class="back-link" routerLink="/login">Take me back</a>
        </div>
      </form>
    </div>
  </div>

  <div class="content-container" *ngIf="!isForgotPass">
    <div class="header-container">
      <h1 class="title">Reset Password</h1>
    </div>
    <div class="form-container">
      <form [formGroup]="resetForm" (submit)="resetPassword()">
        <div class="form-group input-group input-control" [ngClass]="{'invalid-control': tempPass.invalid && (tempPass.dirty || tempPass.touched)}">
          <div class="input-group-prepend">
            <i class="input-group-text fa fa-lock"></i>
          </div>
          <input type="text" class="form-control" placeholder="Enter your temporary password" formControlName="email_token">
          <div class="invalid-msg-container" *ngIf="tempPass.invalid && (tempPass.dirty || tempPass.touched)">
            <span class="invalid-input" *ngIf="tempPass.errors.required">The field can't be blank.</span>
          </div>
        </div>
        <div class="input-group input-control" [ngClass]="{'invalid-control': password.invalid && (password.dirty || password.touched)}">
          <div class="input-group-prepend">
            <i class="input-group-text fa fa-lock"></i>
          </div>
          <input [type]="isShowPassword ? 'text' : 'password'" class="form-control" placeholder="New Password" formControlName="password">
          <div class="password-visible-wrapper">
            <a (click)="isShowPassword = !isShowPassword" class="action">{{isShowPassword ? 'Hide' : 'Show'}}</a>
          </div>
          <div class="invalid-msg-container" *ngIf="password.invalid && (password.dirty || password.touched)">
            <span class="invalid-input" *ngIf="password.errors.required">The pasword can't be blank.</span>
            <span class="invalid-input" *ngIf="password.value.length && password.errors">
              Password should be at least 8-16 characters in length with at least one uppercase letter and one number.
            </span>
          </div>
        </div>
        <div class="input-group input-control" [ngClass]="{'invalid-control': confirmPass.invalid && (confirmPass.dirty || confirmPass.touched)}">
          <div class="input-group-prepend">
            <i class="input-group-text fa fa-lock"></i>
          </div>
          <input [type]="isShowConfirmPassword ? 'text' : 'password'" class="form-control" placeholder="Confirm Password" formControlName="confirmPass">
          <div class="password-visible-wrapper">
            <a (click)="isShowConfirmPassword = !isShowConfirmPassword" class="action">{{isShowConfirmPassword ? 'Hide' : 'Show'}}</a>
          </div>
          <div class="invalid-msg-container" *ngIf="confirmPass.invalid && (confirmPass.dirty || confirmPass.touched)">
            <span class="invalid-input" *ngIf="confirmPass.errors.required">The pasword can't be blank.</span>
            <span class="invalid-input" *ngIf="confirmPass.value.length && confirmPass.errors.pattern">
              Password should be at least 8-16 characters in length with at least one uppercase letter and one number.
            </span>
            <span class="invalid-input" *ngIf="confirmPass.errors.nomatch">
              Password does not match.
            </span>
          </div>
        </div>
        <button class="btn btn-default btn-action" type="submit" [disabled]="resetForm.invalid">Reset Password</button>
      </form>
    </div>
  </div>
</div>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="medium" color="#fff" type="ball-scale-multiple"></ngx-spinner>
