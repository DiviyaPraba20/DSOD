<div class="page-content">
  <div class="container" *ngIf="(pageContent$ | async)">
    <div class="row">
      <div class="col-xl-9">
        <div class="video-content">
          <div class="top-head d-flex justify-content-between">
            <ul>
              <li>Education /</li>
              <li>{{(pageContent$ | async)?.categoryName}}</li>
            </ul>
            <div>
              <div *ngIf="(pageContent$ | async)?.sponsorName==='ALN'">
                <img src="assets/images/align-logo.png" alt="">
                Sponsored content from Align Technology, Inc.
              </div>
              <div *ngIf="(pageContent$ | async)?.sponsorName==='NBL'">
                <img src="assets/images/nb-logo.png" alt="">
                Sponsored content from Nobel Biocare, N.A.
              </div>
              <div *ngIf="(pageContent$ | async)?.sponsorName==='GSK'">
                <img src="assets/images/gsk-icon-sm.png" alt="">
                Sponsored content from GlaxoSmithKline
              </div>
            </div>
            <dsod-rating></dsod-rating>
          </div>
          <div class="video-header">
            <div class="row">
              <div class="col-lg-10">
                <dsod-video-title [content]="pageContent$ | async"></dsod-video-title>
              </div>
              <div class="col-lg-2">
                <dsod-content-actions [content]="pageContent$ | async"></dsod-content-actions>
              </div>
            </div>
          </div>
          <dsod-video-player [content]="(pageContent$ | async)?.content"></dsod-video-player>
          <dsod-video-content [content]="(pageContent$ | async)?.content"></dsod-video-content>
          <dsod-references [references]="(pageContent$ | async)?.references"></dsod-references>
          <div class="row" *ngFor="let essay of (pageContent$ | async)?.visualEssays">
            <div class="col-lg-12" *ngIf="essay.visualEssayImages">
              <dsod-essay-images-carousel [visualEssayImages]="essay.visualEssayImages"></dsod-essay-images-carousel>
            </div>
            <div class="col-lg-12">
              <div class="article-content">
                <p>{{essay.description}}</p>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="row">
                <div class="col-md-8">
                  <dsod-essay-author [essay]="essay"></dsod-essay-author>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <dsod-gallery [photosUrls]="(pageContent$ | async)?.photoUrls"></dsod-gallery>
            </div>
          </div>
        </div>
        <div class="related-content" *ngIf="(pageContent$ | async)?.relativeTopicList">
          <h2 class="section-title">Related Content</h2>
          <div class="row">
            <div class="col-lg-4" *ngFor="let topic of (pageContent$ | async)?.relativeTopicList">
              <dsod-related-content [content]="topic" [contentTypeName]="(pageContent$ | async)?.contentTypeName"></dsod-related-content>
            </div>
          </div>
        </div>
        <div *ngIf="isLoggedIn">
          <dsod-article-reviews [content]="pageContent$ | async"></dsod-article-reviews>
        </div>
      </div>
      <div class="col-xl-3">
        <section class="trending-videos" *ngIf="(trendingTopics$ |async)?.length">
          <h2 class="section-title">Trending Topics</h2>
          <div *ngFor="let topic of trendingTopics$ |async">
            <dsod-topic [topic]="topic" [showImage]="true" [showHeader]="true" styleFor="content-sm"></dsod-topic>
          </div>
          <dsod-sponsored-ad></dsod-sponsored-ad>
        </section>
      </div>
    </div>
  </div>
</div>
